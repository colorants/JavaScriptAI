(()=>{"use strict";const e=document.getElementById("messageInput"),t=document.getElementById("firstPrompt"),n=document.getElementById("userGender"),s=document.getElementById("userReply"),o=document.getElementById("userLocation"),a=document.getElementById("submitButton"),l=document.getElementById("loadingSpinner"),d=document.getElementById("responseContainer"),r=document.getElementById("container2"),c=document.getElementById("container3"),i=document.getElementById("replyContainer");l.style.display="none",l.style.display="items-center",document.addEventListener("keydown",(function(y){"Enter"===y.key&&async function(){s.value="",r.style.display="none",a.style.display="none",t.style.display="none";try{l.style.display="block",e.value="",n.value="",o.value="",await async function(e,t,n,s){try{const n=`message: ${e}, gender: ${t}, userLocation: undefined, reply: undefined`,s=await fetch("http://localhost:8001/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userPrompt:n})});if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const o=await s.json();return o&&o.kwargs&&o.kwargs.content?function(e){const t=document.createElement("div");t.classList.add("response-grid","col-span-3","mb-2");const n=document.createElement("i");n.classList.add("fas","fa-cat","text-black"),t.appendChild(n);const s=document.createElement("p");s.classList.add("typewriter","pl-4"),s.textContent=e,t.appendChild(s),d.appendChild(t)}(o.kwargs.content):console.error("No valid AI response found in the response:",o),o.response}catch(e){throw console.error("Error sending chat message:",e),e}}(message,gender),l.style.display="none",i.style.display="block",c.style.display="block",a.disabled=!1,a.style.display="inline-block"}catch(s){console.error("Error sending chat message:",s.message),alert(s.message),r.style.display="block",l.style.display="none",t.style.display="block",e.disabled=!1,n.disabled=!1,o.disabled=!1,a.disabled=!1,a.style.display="inline-block"}}()})),document.addEventListener("DOMContentLoaded",(async()=>{try{await async function(){try{const e=await fetch("suggestions.json"),t=await e.json(),n=document.querySelector("#suggestionContainer ul");n.innerHTML="";const s=function(e){const t=[...e];for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}(t);for(let e=0;e<Math.min(3,s.length);e++){const t=document.createElement("li");t.classList.add("ml-2"),t.textContent=`"${s[e]}"`,n.appendChild(t)}}catch(e){console.error("Error filling suggestions:",e)}}()}catch(e){console.error("Error on DOMContentLoaded:",e)}}))})();